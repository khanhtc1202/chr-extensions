!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){var n;n=function(){function t(t){this.version="1.1.8",this.timer=null,this.interval=null,this.fps=1e3/30,this.step=2e3,this.comments=[],this.app=t.app,this.font_size=t.font_size||50,this.color=t.color||"#fff",this.width=t.width||500,this.height=t.height||300,this.render()}return t.prototype.render=function(){return this.app.style.whiteSpace="nowrap",this.app.style.overflow="hidden",this.app.style.position="relative",this.app.style.width=this.width+"px",this.app.style.height=this.height+"px",console.log("nicoJS@"+this.version),console.log(" ├─ author     : yuki540"),console.log(" ├─ homepage   : http://yuki540.com"),console.log(" └─ repository : https://github.com/yuki540net/nicoJS")},t.prototype.resize=function(t,e){return this.width=t,this.height=e,this.app.style.width=this.width+"px",this.app.style.height=this.height+"px"},t.prototype.send=function(t,e,n){var o,i,r;return n=n||this.font_size,e=e||this.color,t=t||"",i=this.width,r=Math.random()*(this.height-this.font_size),(o=document.createElement("div")).innerHTML=t,o.style.position="absolute",o.style.left=i+"px",o.style.top=r+"px",o.style.fontSize=n+"px",o.style.textShadow="0 0 5px #111",o.style.color=e,this.app.appendChild(o),this.comments.push({ele:o,x:i,y:r})},t.prototype.flow=function(){var t,e,n,o,i;for(i=[],e=n=0,o=this.comments.length;0<=o?n<o:n>o;e=0<=o?++n:--n)t=-1*this.comments[e].ele.getBoundingClientRect().width,this.comments[e].x>t?(this.comments[e].x-=4,i.push(this.comments[e].ele.style.left=this.comments[e].x+"px")):i.push(void 0);return i},t.prototype.listen=function(){return this.stop(),this.timer=setInterval(function(t){return function(){return t.flow()}}(this),this.fps)},t.prototype.loop=function(t){var e,n,o;return e=0,n=t.length,this.listen(),this.send(t[e++]),this.interval=setInterval((o=this,function(){return n<e&&(e=0),o.send(t[e++])}),this.step)},t.prototype.stop=function(){return clearInterval(this.timer),clearInterval(this.interval)},t}();try{t.exports=n}catch(t){t}},,function(t,e,n){"use strict";n.r(e);var o=n(0);const i=window.screen.width,r=window.screen.height,s=`position:absolute;background-color:rgba(0,0,0,0.1);width:${i}px;height:${r-48}px;margin-top:48px;z-index:100`;let l=["Switch account","Ready to join?","Join now","Present","Other options","Join and use a phone for audio","To avoid echo, use the same device for your mic and speaker","Settings","You","Meeting details","closed_caption_off","closed_caption_on","keyboard_arrow_up","keyboard_arrow_down","Turn on captions","Turn off captions","Start streaming","Phone connectedReconnectCalling"],c=null,p=!1;const u=(t,e,n)=>{const o=document.createElement(t);o.setAttribute("id",e),o.style.cssText=n,document.body.appendChild(o)},h=t=>{const e=document.getElementById(t);document.body.removeChild(e)},a=()=>{const t=[].slice.apply(document.querySelectorAll("div[data-message-text]")).map((function(t){return t.innerText||t.textContent}));0===t.length&&t.push(...[].slice.apply(document.querySelectorAll("span[jsslot]")).filter((function(t){return t.innerText.length>0})).reduce((function(t,e){return t.push(...e.innerText.split("\n")),t}),[]));const e=t.filter((function(t){return-1===l.indexOf(t)}));return l.push(...e),e},d=()=>{h("niko-end"),h("app"),c=null},f=()=>{u("div","app",s),u("button","niko-end","position:absolute;top:10px;left:10px;z-index:101;width:50px;height:50px;background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEcElEQVRoQ9WaSVMTQRTH/8DNg1cXkgBJ0G+gnvFj6MGtvGjJDtEAbmAFFxZLL5bbQT+GnNVvoCBUglTi1YM3wHpDOtX0vH7ds5XlHGd6Xvev39pLF/hnCMA7AHkA+wA2AVwE8MXSPqvXZwF8AFAE0AVgG8BlAGtmh/TRfN4AuGIZ2WMA01mN2pC7CGDK0tdbAFf1byYIaeGSY6BPhA7SYqQJm3QIe9/WTtBMB/GBULKz1IykCZOtA6NAXpuqoj8eDRbwZ3cX85s73ORkAcNCzBR7caSnB3fWG9w4yBWuEQg59iezxdLpPlzPHQter9SbmNkgPws9aZoZa07z5TxG+k4EHb/6+Qtj3+rcOM4TCH0p6F91CPV+ud7EbHYwLMTDch6jbQg1DgtMg0D2dF8hc7pVOM762VK9ibn0YViIB+U8xgwINajnjZZpZvsEsgugWzUie6wM9FoDhgDz1CPSmHLJNCfMlxIEta1t7Zh+u0cg6wDKujDdLjkiwcyiwLAQnDnpY7D46waBUPb8bA7YJVCAecbNsiGfgMdT7POcCr9s2HOpOCZMLAjBpIM0oCfEyE5HMxoRJm2ITvg3SxRWMwnMbEkzITK5sRTN6VBC5orGWDBC0iQYekIQCYJKqKrgQKhT7wTlEVHYUJ4Agq0mbCCZwqQNQYOVQDKByQLCB4TasInLNSDOZ+L807ZLZ6J1aUTZdyyYl9stVL4flN61UwXcyPM1HH0XgoUTwlcjCobNAa5ZpgW/qyMBwqdKcMrnok0sGDZstV+mAeGaKFv/qcGkBREXhP5js/Siww/0mSH/mW77jzFjejUgKfPQN19n5wSyML+HzqDbIXVvHzi69pWTGQsiiUasWvnfQGjmRs0prQ0WcNOyTDbbvmi0UOF3RZa5usxlY3FMi4VwhWFuIKv1Jqr8HkBkmKgg1MGIOShXmS/NpgCzwmndJisKCAvhWkWSY9MjBYDVRhPVdXbfzBvGFyQWhO4HLv9JCuMDwkLcL+Ux3n+wA+hr/wvlPIYte1UkIwmMC4R17HulHCb6T0aCUI0TwIgBQAKJB2G39w74wmAewwVBm40WqhFDsw2Ezdp3SzlMSprwgOhoxgHDbIuqX9nsz4GwReFcKYepeBBkEhS7QpsPLs0IMKHy3gThIYo5TA0IPmHXhG7XrKmmBaODsKvA2WIO0yJEJHu2wBQwLJQ2gmY6q0cFUuMOOWeKOVQECKEDKZGx4Vw6ziDnEPqifbiKdRPbdbwQE0I5bNowwSb2BoCSnhSqxV7cFs5IEkIkgrEkzR+hgx4KrxRmbU9KEIlgbAc93kdvAkTkslubKDYASD5jO3rzOgzNCEJPcqGFGgcjHYY6j6eFYi72GpsxXbaa0POM63iaZLL3TxwXBrw3z1zLVO07m5AdFwaCeyl6QoxyhSMLCMXDwlgmI3SFQ7XzgfHai42gBa4pW2UYDa2XalQ79l5K+2OQRRMO0vd3ttpo/xzcP9EF2cp48+LZFoAL/+ji2UcAA66LZ38BmwtYsn4k2KoAAAAASUVORK5CYII=') no-repeat;cursor:pointer;border:none"),document.getElementById("niko-end").onclick=d,[].slice.apply(document.querySelectorAll("div[role='button']"))[7].onclick=()=>{null!==c&&(document.getElementById("app").style.width=i-320+"px",p=!0)},null===c&&(c=new o({app:document.getElementById("app"),width:i,height:r,font_size:50})),c.listen()};document.addEventListener("DOMNodeInserted",(function(){if(null!==c){a().map((function(t){c.send(t,(()=>{const t="#"+Math.floor(16777215*Math.random()).toString(16);return"#ffffff"===t||"#000000"===t?"#00ff00":t})())}))}})),document.addEventListener("click",(function(t){if(p&&null!==c&&i-t.clientX>320){document.getElementById("app").style.width=i+"px",p=!1}})),chrome.runtime.onMessage.addListener((function(t,e,n){"start"===t.niko&&null===c?(f(),n({text:"niko party started"})):n({text:"something went wrong!"})}))}]);